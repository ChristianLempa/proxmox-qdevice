---
services:
  proxmox-qdevice:
    image: ghcr.io/christianlempa/proxmox-qdevice:latest
    container_name: proxmox-qdevice
    restart: unless-stopped
    network_mode: host
    volumes:
      - qdevice-data:/data
    env_file:
      - .env
    environment:
      # Comma-separated list of Proxmox node IPs or hostnames
      - PROXMOX_NODES=${PROXMOX_NODES:-}
      # SSH credentials for automatic setup (optional)
      - PROXMOX_USER=${PROXMOX_USER:-root}
      - PROXMOX_PASSWORD=${PROXMOX_PASSWORD:-}
      # QDevice IP address (auto-detected if not set)
      - QDEVICE_IP=${QDEVICE_IP:-}

volumes:
  qdevice-data:
    driver: local
